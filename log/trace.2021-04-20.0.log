2021-04-20 09:21:20.703 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2021-04-20 09:21:20.772 INFO  com.zhuanye.wiki.WikiApplication                  :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_221 on DESKTOP-Q8KK21T with PID 11748 (E:\IntelliJ IDEA 2019.2\wiki\target\classes started by Administrator in E:\IntelliJ IDEA 2019.2\wiki)
2021-04-20 09:21:20.772 INFO  com.zhuanye.wiki.WikiApplication                  :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2021-04-20 09:21:21.173 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-04-20 09:21:21.173 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-04-20 09:21:25.216 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2021-04-20 09:21:25.216 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2021-04-20 09:21:25.294 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 24 ms. Found 0 Redis repository interfaces.
2021-04-20 09:21:28.105 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8080 (http)
2021-04-20 09:21:28.146 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8080"]
2021-04-20 09:21:28.146 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2021-04-20 09:21:28.146 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-04-20 09:21:28.164 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m Loaded Apache Tomcat Native library [1.2.26] using APR version [1.7.0].
2021-04-20 09:21:28.164 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2021-04-20 09:21:28.164 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2021-04-20 09:21:28.280 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m OpenSSL successfully initialized [OpenSSL 1.1.1i  8 Dec 2020]
2021-04-20 09:21:28.443 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2021-04-20 09:21:28.443 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 7270 ms
2021-04-20 09:21:31.850 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2021-04-20 09:21:32.953 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2021-04-20 09:21:33.075 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2021-04-20 09:21:33.107 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8080"]
2021-04-20 09:21:33.154 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8080 (http) with context path ''
2021-04-20 09:21:33.191 INFO  com.zhuanye.wiki.WikiApplication                  :61   [32m                  [0;39m Started WikiApplication in 15.197 seconds (JVM running for 20.023)
2021-04-20 09:21:33.191 INFO  com.zhuanye.wiki.WikiApplication                  :24   [32m                  [0;39m ÂêØÂä®ÊàêÂäüÔºÅÔºÅ
2021-04-20 09:21:33.191 INFO  com.zhuanye.wiki.WikiApplication                  :25   [32m                  [0;39m Âú∞ÂùÄ: 	http://127.0.0.1:8080
2021-04-20 10:08:42.310 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2021-04-20 10:08:42.332 INFO  com.zhuanye.wiki.WikiApplication                  :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_221 on DESKTOP-Q8KK21T with PID 7716 (E:\IntelliJ IDEA 2019.2\wiki\target\classes started by Administrator in E:\IntelliJ IDEA 2019.2\wiki)
2021-04-20 10:08:42.332 INFO  com.zhuanye.wiki.WikiApplication                  :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2021-04-20 10:08:42.448 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-04-20 10:08:42.448 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-04-20 10:08:43.628 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2021-04-20 10:08:43.628 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2021-04-20 10:08:43.666 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
2021-04-20 10:08:44.831 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8080 (http)
2021-04-20 10:08:44.847 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8080"]
2021-04-20 10:08:44.847 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2021-04-20 10:08:44.847 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-04-20 10:08:44.847 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m Loaded Apache Tomcat Native library [1.2.26] using APR version [1.7.0].
2021-04-20 10:08:44.847 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2021-04-20 10:08:44.847 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2021-04-20 10:08:44.863 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m OpenSSL successfully initialized [OpenSSL 1.1.1i  8 Dec 2020]
2021-04-20 10:08:44.947 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2021-04-20 10:08:44.947 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 2499 ms
2021-04-20 10:08:46.282 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2021-04-20 10:08:46.953 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2021-04-20 10:08:47.037 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2021-04-20 10:08:47.069 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8080"]
2021-04-20 10:08:47.100 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8080 (http) with context path ''
2021-04-20 10:08:47.122 INFO  com.zhuanye.wiki.WikiApplication                  :61   [32m                  [0;39m Started WikiApplication in 5.583 seconds (JVM running for 6.971)
2021-04-20 10:08:47.122 INFO  com.zhuanye.wiki.WikiApplication                  :24   [32m                  [0;39m ÂêØÂä®ÊàêÂäüÔºÅÔºÅ
2021-04-20 10:08:47.122 INFO  com.zhuanye.wiki.WikiApplication                  :25   [32m                  [0;39m Âú∞ÂùÄ: 	http://127.0.0.1:8080
2021-04-20 10:08:50.061 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-04-20 10:08:50.061 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2021-04-20 10:08:50.061 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 0 ms
2021-04-20 10:08:50.414 INFO  com.zhuanye.wiki.aspect.LogAspect                 :53   [32m39532701056897024 [0;39m ------------- ÂºÄÂßã -------------
2021-04-20 10:08:50.414 INFO  com.zhuanye.wiki.aspect.LogAspect                 :54   [32m39532701056897024 [0;39m ËØ∑Ê±ÇÂú∞ÂùÄ: http://localhost:8080/ebook/list GET
2021-04-20 10:08:50.414 INFO  com.zhuanye.wiki.aspect.LogAspect                 :55   [32m39532701056897024 [0;39m Á±ªÂêçÊñπÊ≥ï: com.zhuanye.wiki.controller.EbookController.list
2021-04-20 10:08:50.414 INFO  com.zhuanye.wiki.aspect.LogAspect                 :56   [32m39532701056897024 [0;39m ËøúÁ®ãÂú∞ÂùÄ: 127.0.0.1
2021-04-20 10:08:50.608 INFO  com.zhuanye.wiki.aspect.LogAspect                 :78   [32m39532701056897024 [0;39m ËØ∑Ê±ÇÂèÇÊï∞: [{"page":0,"size":0}]
2021-04-20 10:08:50.715 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m39532701056897024 [0;39m HikariPool-1 - Starting...
2021-04-20 10:08:51.178 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m39532701056897024 [0;39m HikariPool-1 - Start completed.
2021-04-20 10:08:51.499 INFO  com.zhuanye.wiki.service.EbookService             :46   [32m39532701056897024 [0;39m ÊÄªË°åÊï∞Ôºö5
2021-04-20 10:08:51.499 INFO  com.zhuanye.wiki.service.EbookService             :47   [32m39532701056897024 [0;39m ÊÄªÈ°µÊï∞Ôºö0
2021-04-20 10:08:51.517 INFO  com.zhuanye.wiki.aspect.LogAspect                 :90   [32m39532701056897024 [0;39m ËøîÂõûÁªìÊûú: {"content":{"list":[{"description":"Èõ∂Âü∫Á°ÄÂÖ•Èó® Java ÂºÄÂèëÔºå‰ºÅ‰∏öÁ∫ßÂ∫îÁî®ÂºÄÂèëÊúÄ‰Ω≥È¶ñÈÄâÊ°ÜÊû∂","docCount":0,"id":1,"name":"Spring Boot ÂÖ•Èó®ÊïôÁ®ã","viewCount":0,"voteCount":0},{"description":"Èõ∂Âü∫Á°ÄÂÖ•Èó® Vue ÂºÄÂèëÔºå‰ºÅ‰∏öÁ∫ßÂ∫îÁî®ÂºÄÂèëÊúÄ‰Ω≥È¶ñÈÄâÊ°ÜÊû∂","docCount":0,"id":2,"name":"Vue ÂÖ•Èó®ÊïôÁ®ã","viewCount":0,"voteCount":0},{"description":"Èõ∂Âü∫Á°ÄÂÖ•Èó® Python ÂºÄÂèëÔºå‰ºÅ‰∏öÁ∫ßÂ∫îÁî®ÂºÄÂèëÊúÄ‰Ω≥È¶ñÈÄâÊ°ÜÊû∂","docCount":0,"id":3,"name":"Python ÂÖ•Èó®ÊïôÁ®ã","viewCount":0,"voteCount":0},{"description":"Èõ∂Âü∫Á°ÄÂÖ•Èó® Mysql ÂºÄÂèëÔºå‰ºÅ‰∏öÁ∫ßÂ∫îÁî®ÂºÄÂèëÊúÄ‰Ω≥È¶ñÈÄâÊ°ÜÊû∂","docCount":0,"id":4,"name":"Mysql ÂÖ•Èó®ÊïôÁ®ã","viewCount":0,"voteCount":0},{"description":"Èõ∂Âü∫Á°ÄÂÖ•Èó® Oracle ÂºÄÂèëÔºå‰ºÅ‰∏öÁ∫ßÂ∫îÁî®ÂºÄÂèëÊúÄ‰Ω≥È¶ñÈÄâÊ°ÜÊû∂","docCount":0,"id":5,"name":"Oracle ÂÖ•Èó®ÊïôÁ®ã","viewCount":0,"voteCount":0}],"total":5},"success":true}
2021-04-20 10:08:51.517 INFO  com.zhuanye.wiki.aspect.LogAspect                 :91   [32m39532701056897024 [0;39m ------------- ÁªìÊùü ËÄóÊó∂Ôºö1103 ms -------------
2021-04-20 10:57:42.923 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2021-04-20 10:57:42.939 INFO  com.zhuanye.wiki.WikiApplication                  :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_221 on DESKTOP-Q8KK21T with PID 13112 (E:\IntelliJ IDEA 2019.2\wiki\target\classes started by Administrator in E:\IntelliJ IDEA 2019.2\wiki)
2021-04-20 10:57:42.939 INFO  com.zhuanye.wiki.WikiApplication                  :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2021-04-20 10:57:43.023 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-04-20 10:57:43.023 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-04-20 10:57:45.060 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2021-04-20 10:57:45.060 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2021-04-20 10:57:45.098 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
2021-04-20 10:57:47.034 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8080 (http)
2021-04-20 10:57:47.080 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8080"]
2021-04-20 10:57:47.080 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2021-04-20 10:57:47.080 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-04-20 10:57:47.080 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m Loaded Apache Tomcat Native library [1.2.26] using APR version [1.7.0].
2021-04-20 10:57:47.080 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2021-04-20 10:57:47.080 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2021-04-20 10:57:47.119 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m OpenSSL successfully initialized [OpenSSL 1.1.1i  8 Dec 2020]
2021-04-20 10:57:47.250 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2021-04-20 10:57:47.250 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 4227 ms
2021-04-20 10:57:49.202 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2021-04-20 10:57:50.073 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2021-04-20 10:57:50.158 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2021-04-20 10:57:50.211 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8080"]
2021-04-20 10:57:50.289 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8080 (http) with context path ''
2021-04-20 10:57:50.343 INFO  com.zhuanye.wiki.WikiApplication                  :61   [32m                  [0;39m Started WikiApplication in 8.476 seconds (JVM running for 11.121)
2021-04-20 10:57:50.343 INFO  com.zhuanye.wiki.WikiApplication                  :24   [32m                  [0;39m ÂêØÂä®ÊàêÂäüÔºÅÔºÅ
2021-04-20 10:57:50.343 INFO  com.zhuanye.wiki.WikiApplication                  :25   [32m                  [0;39m Âú∞ÂùÄ: 	http://127.0.0.1:8080
2021-04-20 10:57:53.197 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-04-20 10:57:53.197 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2021-04-20 10:57:53.197 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 0 ms
2021-04-20 10:57:53.398 INFO  com.zhuanye.wiki.aspect.LogAspect                 :53   [32m39545044826460160 [0;39m ------------- ÂºÄÂßã -------------
2021-04-20 10:57:53.398 INFO  com.zhuanye.wiki.aspect.LogAspect                 :54   [32m39545044826460160 [0;39m ËØ∑Ê±ÇÂú∞ÂùÄ: http://localhost:8080/ebook/list GET
2021-04-20 10:57:53.398 INFO  com.zhuanye.wiki.aspect.LogAspect                 :55   [32m39545044826460160 [0;39m Á±ªÂêçÊñπÊ≥ï: com.zhuanye.wiki.controller.EbookController.list
2021-04-20 10:57:53.398 INFO  com.zhuanye.wiki.aspect.LogAspect                 :56   [32m39545044826460160 [0;39m ËøúÁ®ãÂú∞ÂùÄ: 127.0.0.1
2021-04-20 10:57:53.498 INFO  com.zhuanye.wiki.aspect.LogAspect                 :78   [32m39545044826460160 [0;39m ËØ∑Ê±ÇÂèÇÊï∞: [{"page":0,"size":0}]
2021-04-20 10:57:53.583 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m39545044826460160 [0;39m HikariPool-1 - Starting...
2021-04-20 10:57:54.038 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m39545044826460160 [0;39m HikariPool-1 - Start completed.
2021-04-20 10:57:54.185 INFO  com.zhuanye.wiki.service.EbookService             :46   [32m39545044826460160 [0;39m ÊÄªË°åÊï∞Ôºö5
2021-04-20 10:57:54.185 INFO  com.zhuanye.wiki.service.EbookService             :47   [32m39545044826460160 [0;39m ÊÄªÈ°µÊï∞Ôºö0
2021-04-20 10:57:54.200 INFO  com.zhuanye.wiki.aspect.LogAspect                 :90   [32m39545044826460160 [0;39m ËøîÂõûÁªìÊûú: {"content":{"list":[{"cover":"web/public/image/cover1.png","description":"Èõ∂Âü∫Á°ÄÂÖ•Èó® Java ÂºÄÂèëÔºå‰ºÅ‰∏öÁ∫ßÂ∫îÁî®ÂºÄÂèëÊúÄ‰Ω≥È¶ñÈÄâÊ°ÜÊû∂","docCount":3,"id":1,"name":"Spring Boot ÂÖ•Èó®ÊïôÁ®ã","viewCount":11,"voteCount":12},{"category1Id":1,"category2Id":2,"cover":"web/public/image/cover2.png","description":"Èõ∂Âü∫Á°ÄÂÖ•Èó® Vue ÂºÄÂèëÔºå‰ºÅ‰∏öÁ∫ßÂ∫îÁî®ÂºÄÂèëÊúÄ‰Ω≥È¶ñÈÄâÊ°ÜÊû∂","docCount":2,"id":2,"name":"Vue ÂÖ•Èó®ÊïôÁ®ã","viewCount":12,"voteCount":2},{"cover":"web/public/image/cover2.png","description":"Èõ∂Âü∫Á°ÄÂÖ•Èó® Python ÂºÄÂèëÔºå‰ºÅ‰∏öÁ∫ßÂ∫îÁî®ÂºÄÂèëÊúÄ‰Ω≥È¶ñÈÄâÊ°ÜÊû∂","docCount":3,"id":3,"name":"Python ÂÖ•Èó®ÊïôÁ®ã","viewCount":11,"voteCount":5},{"cover":"web/public/image/cover2.png","description":"Èõ∂Âü∫Á°ÄÂÖ•Èó® Mysql ÂºÄÂèëÔºå‰ºÅ‰∏öÁ∫ßÂ∫îÁî®ÂºÄÂèëÊúÄ‰Ω≥È¶ñÈÄâÊ°ÜÊû∂","docCount":3,"id":4,"name":"Mysql ÂÖ•Èó®ÊïôÁ®ã","viewCount":44,"voteCount":1},{"cover":"web/public/image/cover2.png","description":"Èõ∂Âü∫Á°ÄÂÖ•Èó® Oracle ÂºÄÂèëÔºå‰ºÅ‰∏öÁ∫ßÂ∫îÁî®ÂºÄÂèëÊúÄ‰Ω≥È¶ñÈÄâÊ°ÜÊû∂","docCount":1,"id":5,"name":"Oracle ÂÖ•Èó®ÊïôÁ®ã","viewCount":12,"voteCount":4}],"total":5},"success":true}
2021-04-20 10:57:54.200 INFO  com.zhuanye.wiki.aspect.LogAspect                 :91   [32m39545044826460160 [0;39m ------------- ÁªìÊùü ËÄóÊó∂Ôºö802 ms -------------
2021-04-20 10:58:28.765 INFO  com.zhuanye.wiki.aspect.LogAspect                 :53   [32m39545193166409728 [0;39m ------------- ÂºÄÂßã -------------
2021-04-20 10:58:28.765 INFO  com.zhuanye.wiki.aspect.LogAspect                 :54   [32m39545193166409728 [0;39m ËØ∑Ê±ÇÂú∞ÂùÄ: http://localhost:8080/ebook/list GET
2021-04-20 10:58:28.765 INFO  com.zhuanye.wiki.aspect.LogAspect                 :55   [32m39545193166409728 [0;39m Á±ªÂêçÊñπÊ≥ï: com.zhuanye.wiki.controller.EbookController.list
2021-04-20 10:58:28.765 INFO  com.zhuanye.wiki.aspect.LogAspect                 :56   [32m39545193166409728 [0;39m ËøúÁ®ãÂú∞ÂùÄ: 127.0.0.1
2021-04-20 10:58:28.765 INFO  com.zhuanye.wiki.aspect.LogAspect                 :78   [32m39545193166409728 [0;39m ËØ∑Ê±ÇÂèÇÊï∞: [{"page":0,"size":0}]
2021-04-20 10:58:28.781 INFO  com.zhuanye.wiki.service.EbookService             :46   [32m39545193166409728 [0;39m ÊÄªË°åÊï∞Ôºö5
2021-04-20 10:58:28.781 INFO  com.zhuanye.wiki.service.EbookService             :47   [32m39545193166409728 [0;39m ÊÄªÈ°µÊï∞Ôºö0
2021-04-20 10:58:28.781 INFO  com.zhuanye.wiki.aspect.LogAspect                 :90   [32m39545193166409728 [0;39m ËøîÂõûÁªìÊûú: {"content":{"list":[{"category1Id":1,"category2Id":2,"cover":"web/public/image/cover1.png","description":"Èõ∂Âü∫Á°ÄÂÖ•Èó® Java ÂºÄÂèëÔºå‰ºÅ‰∏öÁ∫ßÂ∫îÁî®ÂºÄÂèëÊúÄ‰Ω≥È¶ñÈÄâÊ°ÜÊû∂","docCount":3,"id":1,"name":"Spring Boot ÂÖ•Èó®ÊïôÁ®ã","viewCount":11,"voteCount":12},{"category1Id":1,"category2Id":2,"cover":"web/public/image/cover2.png","description":"Èõ∂Âü∫Á°ÄÂÖ•Èó® Vue ÂºÄÂèëÔºå‰ºÅ‰∏öÁ∫ßÂ∫îÁî®ÂºÄÂèëÊúÄ‰Ω≥È¶ñÈÄâÊ°ÜÊû∂","docCount":2,"id":2,"name":"Vue ÂÖ•Èó®ÊïôÁ®ã","viewCount":12,"voteCount":2},{"category1Id":1,"category2Id":2,"cover":"web/public/image/cover2.png","description":"Èõ∂Âü∫Á°ÄÂÖ•Èó® Python ÂºÄÂèëÔºå‰ºÅ‰∏öÁ∫ßÂ∫îÁî®ÂºÄÂèëÊúÄ‰Ω≥È¶ñÈÄâÊ°ÜÊû∂","docCount":3,"id":3,"name":"Python ÂÖ•Èó®ÊïôÁ®ã","viewCount":11,"voteCount":5},{"category1Id":1,"category2Id":2,"cover":"web/public/image/cover2.png","description":"Èõ∂Âü∫Á°ÄÂÖ•Èó® Mysql ÂºÄÂèëÔºå‰ºÅ‰∏öÁ∫ßÂ∫îÁî®ÂºÄÂèëÊúÄ‰Ω≥È¶ñÈÄâÊ°ÜÊû∂","docCount":3,"id":4,"name":"Mysql ÂÖ•Èó®ÊïôÁ®ã","viewCount":44,"voteCount":1},{"category1Id":1,"category2Id":2,"cover":"web/public/image/cover2.png","description":"Èõ∂Âü∫Á°ÄÂÖ•Èó® Oracle ÂºÄÂèëÔºå‰ºÅ‰∏öÁ∫ßÂ∫îÁî®ÂºÄÂèëÊúÄ‰Ω≥È¶ñÈÄâÊ°ÜÊû∂","docCount":1,"id":5,"name":"Oracle ÂÖ•Èó®ÊïôÁ®ã","viewCount":12,"voteCount":4}],"total":5},"success":true}
2021-04-20 10:58:28.781 INFO  com.zhuanye.wiki.aspect.LogAspect                 :91   [32m39545193166409728 [0;39m ------------- ÁªìÊùü ËÄóÊó∂Ôºö16 ms -------------
2021-04-20 14:43:31.642 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2021-04-20 14:43:31.710 INFO  com.zhuanye.wiki.WikiApplication                  :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_221 on DESKTOP-Q8KK21T with PID 8636 (E:\IntelliJ IDEA 2019.2\wiki\target\classes started by Administrator in E:\IntelliJ IDEA 2019.2\wiki)
2021-04-20 14:43:31.710 INFO  com.zhuanye.wiki.WikiApplication                  :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2021-04-20 14:43:32.079 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-04-20 14:43:32.079 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-04-20 14:43:35.756 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2021-04-20 14:43:35.772 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2021-04-20 14:43:35.856 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 31 ms. Found 0 Redis repository interfaces.
2021-04-20 14:43:38.597 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8080 (http)
2021-04-20 14:43:38.635 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8080"]
2021-04-20 14:43:38.635 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2021-04-20 14:43:38.635 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-04-20 14:43:38.666 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m Loaded Apache Tomcat Native library [1.2.26] using APR version [1.7.0].
2021-04-20 14:43:38.666 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2021-04-20 14:43:38.666 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2021-04-20 14:43:38.766 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m OpenSSL successfully initialized [OpenSSL 1.1.1i  8 Dec 2020]
2021-04-20 14:43:38.904 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2021-04-20 14:43:38.904 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 6825 ms
2021-04-20 14:43:42.181 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2021-04-20 14:43:43.315 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2021-04-20 14:43:43.430 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2021-04-20 14:43:43.453 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8080"]
2021-04-20 14:43:43.515 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8080 (http) with context path ''
2021-04-20 14:43:43.553 INFO  com.zhuanye.wiki.WikiApplication                  :61   [32m                  [0;39m Started WikiApplication in 14.42 seconds (JVM running for 18.748)
2021-04-20 14:43:43.553 INFO  com.zhuanye.wiki.WikiApplication                  :24   [32m                  [0;39m ÂêØÂä®ÊàêÂäüÔºÅÔºÅ
2021-04-20 14:43:43.553 INFO  com.zhuanye.wiki.WikiApplication                  :25   [32m                  [0;39m Âú∞ÂùÄ: 	http://127.0.0.1:8080
2021-04-20 14:45:00.777 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-04-20 14:45:00.777 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2021-04-20 14:45:00.777 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 0 ms
2021-04-20 14:45:01.293 INFO  com.zhuanye.wiki.aspect.LogAspect                 :53   [32m39602204360970240 [0;39m ------------- ÂºÄÂßã -------------
2021-04-20 14:45:01.293 INFO  com.zhuanye.wiki.aspect.LogAspect                 :54   [32m39602204360970240 [0;39m ËØ∑Ê±ÇÂú∞ÂùÄ: http://localhost:8080/ebook/list GET
2021-04-20 14:45:01.293 INFO  com.zhuanye.wiki.aspect.LogAspect                 :55   [32m39602204360970240 [0;39m Á±ªÂêçÊñπÊ≥ï: com.zhuanye.wiki.controller.EbookController.list
2021-04-20 14:45:01.293 INFO  com.zhuanye.wiki.aspect.LogAspect                 :56   [32m39602204360970240 [0;39m ËøúÁ®ãÂú∞ÂùÄ: 127.0.0.1
2021-04-20 14:45:01.525 INFO  com.zhuanye.wiki.aspect.LogAspect                 :78   [32m39602204360970240 [0;39m ËØ∑Ê±ÇÂèÇÊï∞: [{"name":"Vue","page":0,"size":0}]
2021-04-20 14:45:01.657 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m39602204360970240 [0;39m HikariPool-1 - Starting...
2021-04-20 14:45:02.150 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m39602204360970240 [0;39m HikariPool-1 - Start completed.
2021-04-20 14:45:02.435 INFO  com.zhuanye.wiki.service.EbookService             :46   [32m39602204360970240 [0;39m ÊÄªË°åÊï∞Ôºö1
2021-04-20 14:45:02.435 INFO  com.zhuanye.wiki.service.EbookService             :47   [32m39602204360970240 [0;39m ÊÄªÈ°µÊï∞Ôºö0
2021-04-20 14:45:02.450 INFO  com.zhuanye.wiki.aspect.LogAspect                 :90   [32m39602204360970240 [0;39m ËøîÂõûÁªìÊûú: {"content":{"list":[{"category1Id":1,"category2Id":2,"cover":"web/public/image/cover2.png","description":"Èõ∂Âü∫Á°ÄÂÖ•Èó® Vue ÂºÄÂèëÔºå‰ºÅ‰∏öÁ∫ßÂ∫îÁî®ÂºÄÂèëÊúÄ‰Ω≥È¶ñÈÄâÊ°ÜÊû∂","docCount":2,"id":2,"name":"Vue ÂÖ•Èó®ÊïôÁ®ã","viewCount":12,"voteCount":2}],"total":1},"success":true}
2021-04-20 14:45:02.450 INFO  com.zhuanye.wiki.aspect.LogAspect                 :91   [32m39602204360970240 [0;39m ------------- ÁªìÊùü ËÄóÊó∂Ôºö1157 ms -------------
2021-04-20 15:08:19.120 INFO  com.zhuanye.wiki.aspect.LogAspect                 :53   [32m39608067272347648 [0;39m ------------- ÂºÄÂßã -------------
2021-04-20 15:08:19.120 INFO  com.zhuanye.wiki.aspect.LogAspect                 :54   [32m39608067272347648 [0;39m ËØ∑Ê±ÇÂú∞ÂùÄ: http://localhost:8080/ebook/list GET
2021-04-20 15:08:19.120 INFO  com.zhuanye.wiki.aspect.LogAspect                 :55   [32m39608067272347648 [0;39m Á±ªÂêçÊñπÊ≥ï: com.zhuanye.wiki.controller.EbookController.list
2021-04-20 15:08:19.120 INFO  com.zhuanye.wiki.aspect.LogAspect                 :56   [32m39608067272347648 [0;39m ËøúÁ®ãÂú∞ÂùÄ: 127.0.0.1
2021-04-20 15:08:19.120 INFO  com.zhuanye.wiki.aspect.LogAspect                 :78   [32m39608067272347648 [0;39m ËØ∑Ê±ÇÂèÇÊï∞: [{"name":"Vue","page":0,"size":0}]
2021-04-20 15:08:19.139 INFO  com.zhuanye.wiki.service.EbookService             :46   [32m39608067272347648 [0;39m ÊÄªË°åÊï∞Ôºö1
2021-04-20 15:08:19.141 INFO  com.zhuanye.wiki.service.EbookService             :47   [32m39608067272347648 [0;39m ÊÄªÈ°µÊï∞Ôºö0
2021-04-20 15:08:19.141 INFO  com.zhuanye.wiki.aspect.LogAspect                 :90   [32m39608067272347648 [0;39m ËøîÂõûÁªìÊûú: {"content":{"list":[{"category1Id":1,"category2Id":2,"cover":"web/public/image/cover2.png","description":"Èõ∂Âü∫Á°ÄÂÖ•Èó® Vue ÂºÄÂèëÔºå‰ºÅ‰∏öÁ∫ßÂ∫îÁî®ÂºÄÂèëÊúÄ‰Ω≥È¶ñÈÄâÊ°ÜÊû∂","docCount":2,"id":2,"name":"Vue ÂÖ•Èó®ÊïôÁ®ã","viewCount":12,"voteCount":2}],"total":1},"success":true}
2021-04-20 15:08:19.141 INFO  com.zhuanye.wiki.aspect.LogAspect                 :91   [32m39608067272347648 [0;39m ------------- ÁªìÊùü ËÄóÊó∂Ôºö21 ms -------------
2021-04-20 15:12:27.980 INFO  com.zhuanye.wiki.aspect.LogAspect                 :53   [32m39609111066841088 [0;39m ------------- ÂºÄÂßã -------------
2021-04-20 15:12:27.980 INFO  com.zhuanye.wiki.aspect.LogAspect                 :54   [32m39609111066841088 [0;39m ËØ∑Ê±ÇÂú∞ÂùÄ: http://localhost:8080/ebook/list GET
2021-04-20 15:12:27.980 INFO  com.zhuanye.wiki.aspect.LogAspect                 :55   [32m39609111066841088 [0;39m Á±ªÂêçÊñπÊ≥ï: com.zhuanye.wiki.controller.EbookController.list
2021-04-20 15:12:27.980 INFO  com.zhuanye.wiki.aspect.LogAspect                 :56   [32m39609111066841088 [0;39m ËøúÁ®ãÂú∞ÂùÄ: 127.0.0.1
2021-04-20 15:12:27.980 INFO  com.zhuanye.wiki.aspect.LogAspect                 :78   [32m39609111066841088 [0;39m ËØ∑Ê±ÇÂèÇÊï∞: [{"name":"Vue","page":0,"size":0}]
2021-04-20 15:12:28.043 INFO  com.zhuanye.wiki.service.EbookService             :46   [32m39609111066841088 [0;39m ÊÄªË°åÊï∞Ôºö1
2021-04-20 15:12:28.043 INFO  com.zhuanye.wiki.service.EbookService             :47   [32m39609111066841088 [0;39m ÊÄªÈ°µÊï∞Ôºö0
2021-04-20 15:12:28.043 INFO  com.zhuanye.wiki.aspect.LogAspect                 :90   [32m39609111066841088 [0;39m ËøîÂõûÁªìÊûú: {"content":{"list":[{"category1Id":1,"category2Id":2,"cover":"web/public/image/cover2.png","description":"Èõ∂Âü∫Á°ÄÂÖ•Èó® Vue ÂºÄÂèëÔºå‰ºÅ‰∏öÁ∫ßÂ∫îÁî®ÂºÄÂèëÊúÄ‰Ω≥È¶ñÈÄâÊ°ÜÊû∂","docCount":2,"id":2,"name":"Vue ÂÖ•Èó®ÊïôÁ®ã","viewCount":12,"voteCount":2}],"total":1},"success":true}
2021-04-20 15:12:28.043 INFO  com.zhuanye.wiki.aspect.LogAspect                 :91   [32m39609111066841088 [0;39m ------------- ÁªìÊùü ËÄóÊó∂Ôºö63 ms -------------
2021-04-20 15:22:47.202 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2021-04-20 15:22:47.260 INFO  com.zhuanye.wiki.WikiApplication                  :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_221 on DESKTOP-Q8KK21T with PID 8960 (E:\IntelliJ IDEA 2019.2\wiki\target\classes started by Administrator in E:\IntelliJ IDEA 2019.2\wiki)
2021-04-20 15:22:47.262 INFO  com.zhuanye.wiki.WikiApplication                  :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2021-04-20 15:22:47.557 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-04-20 15:22:47.557 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-04-20 15:22:50.855 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2021-04-20 15:22:50.866 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2021-04-20 15:22:50.927 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
2021-04-20 15:22:53.572 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8080 (http)
2021-04-20 15:22:53.610 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8080"]
2021-04-20 15:22:53.612 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2021-04-20 15:22:53.612 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-04-20 15:22:53.630 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m Loaded Apache Tomcat Native library [1.2.26] using APR version [1.7.0].
2021-04-20 15:22:53.632 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2021-04-20 15:22:53.632 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2021-04-20 15:22:53.663 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m OpenSSL successfully initialized [OpenSSL 1.1.1i  8 Dec 2020]
2021-04-20 15:22:53.802 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2021-04-20 15:22:53.802 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 6237 ms
2021-04-20 15:22:56.480 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2021-04-20 15:22:57.464 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2021-04-20 15:22:57.553 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2021-04-20 15:22:57.575 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8080"]
2021-04-20 15:22:57.636 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8080 (http) with context path ''
2021-04-20 15:22:57.677 INFO  com.zhuanye.wiki.WikiApplication                  :61   [32m                  [0;39m Started WikiApplication in 12.055 seconds (JVM running for 15.127)
2021-04-20 15:22:57.685 INFO  com.zhuanye.wiki.WikiApplication                  :24   [32m                  [0;39m ÂêØÂä®ÊàêÂäüÔºÅÔºÅ
2021-04-20 15:22:57.685 INFO  com.zhuanye.wiki.WikiApplication                  :25   [32m                  [0;39m Âú∞ÂùÄ: 	http://127.0.0.1:8080
2021-04-20 17:58:12.888 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2021-04-20 17:58:12.983 INFO  com.zhuanye.wiki.WikiApplication                  :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_221 on DESKTOP-Q8KK21T with PID 9172 (E:\IntelliJ IDEA 2019.2\wiki\target\classes started by Administrator in E:\IntelliJ IDEA 2019.2\wiki)
2021-04-20 17:58:12.984 INFO  com.zhuanye.wiki.WikiApplication                  :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2021-04-20 17:58:13.447 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-04-20 17:58:13.448 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-04-20 17:58:17.876 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2021-04-20 17:58:17.881 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2021-04-20 17:58:17.945 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
2021-04-20 17:58:21.059 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8080 (http)
2021-04-20 17:58:21.111 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8080"]
2021-04-20 17:58:21.111 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2021-04-20 17:58:21.111 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-04-20 17:58:21.123 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m Loaded Apache Tomcat Native library [1.2.26] using APR version [1.7.0].
2021-04-20 17:58:21.130 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2021-04-20 17:58:21.130 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2021-04-20 17:58:21.239 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m OpenSSL successfully initialized [OpenSSL 1.1.1i  8 Dec 2020]
2021-04-20 17:58:21.381 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2021-04-20 17:58:21.389 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 7938 ms
2021-04-20 17:58:24.887 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2021-04-20 17:58:26.010 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2021-04-20 17:58:26.116 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2021-04-20 17:58:26.145 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8080"]
2021-04-20 17:58:26.201 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8080 (http) with context path ''
2021-04-20 17:58:26.232 INFO  com.zhuanye.wiki.WikiApplication                  :61   [32m                  [0;39m Started WikiApplication in 15.374 seconds (JVM running for 19.496)
2021-04-20 17:58:26.249 INFO  com.zhuanye.wiki.WikiApplication                  :24   [32m                  [0;39m ÂêØÂä®ÊàêÂäüÔºÅÔºÅ
2021-04-20 17:58:26.249 INFO  com.zhuanye.wiki.WikiApplication                  :25   [32m                  [0;39m Âú∞ÂùÄ: 	http://127.0.0.1:8080
2021-04-20 18:19:22.439 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2021-04-20 18:19:22.448 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2021-04-20 18:19:23.120 INFO  com.zhuanye.wiki.WikiApplication                  :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_221 on DESKTOP-Q8KK21T with PID 9172 (E:\IntelliJ IDEA 2019.2\wiki\target\classes started by Administrator in E:\IntelliJ IDEA 2019.2\wiki)
2021-04-20 18:19:23.121 INFO  com.zhuanye.wiki.WikiApplication                  :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2021-04-20 18:19:23.522 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2021-04-20 18:19:23.522 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2021-04-20 18:19:23.535 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2021-04-20 18:19:23.819 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8080 (http)
2021-04-20 18:19:23.821 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8080"]
2021-04-20 18:19:23.822 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2021-04-20 18:19:23.823 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-04-20 18:19:23.824 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m Loaded Apache Tomcat Native library [1.2.26] using APR version [1.7.0].
2021-04-20 18:19:23.825 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2021-04-20 18:19:23.826 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2021-04-20 18:19:23.826 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m OpenSSL successfully initialized [OpenSSL 1.1.1i  8 Dec 2020]
2021-04-20 18:19:23.844 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2021-04-20 18:19:23.844 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 717 ms
2021-04-20 18:19:24.642 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2021-04-20 18:19:25.308 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2021-04-20 18:19:25.407 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2021-04-20 18:19:25.508 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8080"]
2021-04-20 18:19:25.508 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8080 (http) with context path ''
2021-04-20 18:19:25.532 INFO  com.zhuanye.wiki.WikiApplication                  :61   [32m                  [0;39m Started WikiApplication in 2.485 seconds (JVM running for 1278.787)
2021-04-20 18:19:25.535 INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener :63   [32m                  [0;39m Condition evaluation unchanged
2021-04-20 18:19:25.535 INFO  com.zhuanye.wiki.WikiApplication                  :24   [32m                  [0;39m ÂêØÂä®ÊàêÂäüÔºÅÔºÅ
2021-04-20 18:19:25.535 INFO  com.zhuanye.wiki.WikiApplication                  :25   [32m                  [0;39m Âú∞ÂùÄ: 	http://127.0.0.1:8080
2021-04-20 18:47:03.999 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2021-04-20 18:47:04.013 INFO  com.zhuanye.wiki.WikiApplication                  :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_221 on DESKTOP-Q8KK21T with PID 8952 (E:\IntelliJ IDEA 2019.2\wiki\target\classes started by Administrator in E:\IntelliJ IDEA 2019.2\wiki)
2021-04-20 18:47:04.014 INFO  com.zhuanye.wiki.WikiApplication                  :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2021-04-20 18:47:04.134 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-04-20 18:47:04.135 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-04-20 18:47:05.999 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2021-04-20 18:47:06.005 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2021-04-20 18:47:06.047 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 22 ms. Found 0 Redis repository interfaces.
2021-04-20 18:47:08.237 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8080 (http)
2021-04-20 18:47:08.288 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8080"]
2021-04-20 18:47:08.290 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2021-04-20 18:47:08.290 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-04-20 18:47:08.311 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m Loaded Apache Tomcat Native library [1.2.26] using APR version [1.7.0].
2021-04-20 18:47:08.313 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2021-04-20 18:47:08.314 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2021-04-20 18:47:08.338 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m OpenSSL successfully initialized [OpenSSL 1.1.1i  8 Dec 2020]
2021-04-20 18:47:08.539 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2021-04-20 18:47:08.540 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 4402 ms
2021-04-20 18:47:10.730 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2021-04-20 18:47:11.560 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2021-04-20 18:47:11.656 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2021-04-20 18:47:11.719 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8080"]
2021-04-20 18:47:11.775 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8080 (http) with context path ''
2021-04-20 18:47:11.813 INFO  com.zhuanye.wiki.WikiApplication                  :61   [32m                  [0;39m Started WikiApplication in 8.937 seconds (JVM running for 11.357)
2021-04-20 18:47:11.819 INFO  com.zhuanye.wiki.WikiApplication                  :24   [32m                  [0;39m ÂêØÂä®ÊàêÂäüÔºÅÔºÅ
2021-04-20 18:47:11.819 INFO  com.zhuanye.wiki.WikiApplication                  :25   [32m                  [0;39m Âú∞ÂùÄ: 	http://127.0.0.1:8080
2021-04-20 18:47:35.009 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39663247070203904 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 18:47:35.226 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m39663247070203904 [0;39m HikariPool-1 - Starting...
2021-04-20 18:47:36.384 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m39663247070203904 [0;39m HikariPool-1 - Start completed.
2021-04-20 18:47:37.176 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39663247070203904 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö2166ÊØ´Áßí
2021-04-20 18:48:00.012 INFO  com.zhuanye.wiki.job.EbookSnapshotJob             :32   [32m39663351940386816 [0;39m ÁîüÊàê‰ªäÊó•ÁîµÂ≠ê‰π¶Âø´ÁÖßÂºÄÂßã
2021-04-20 18:48:00.264 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m39663351940386816 [0;39m Unexpected error occurred in scheduled task
org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
### The error may exist in file [E:\IntelliJ IDEA 2019.2\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count                                             from ebook_snapshot                                             where `date` = date_sub(curdate(), interval 1 day)) t2             on t1.ebook_id = t2.ebook_id         set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),             t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy96.genSnapshot(Unknown Source)
	at com.zhuanye.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.zhuanye.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy128.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 22 common frames omitted
2021-04-20 18:48:05.009 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39663372899323904 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 18:48:05.012 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39663372899323904 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö2ÊØ´Áßí
2021-04-20 18:48:35.002 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39663498699083776 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 18:48:35.005 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39663498699083776 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö3ÊØ´Áßí
2021-04-20 18:49:00.007 INFO  com.zhuanye.wiki.job.EbookSnapshotJob             :32   [32m39663603577655296 [0;39m ÁîüÊàê‰ªäÊó•ÁîµÂ≠ê‰π¶Âø´ÁÖßÂºÄÂßã
2021-04-20 18:49:00.015 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m39663603577655296 [0;39m Unexpected error occurred in scheduled task
org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
### The error may exist in file [E:\IntelliJ IDEA 2019.2\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count                                             from ebook_snapshot                                             where `date` = date_sub(curdate(), interval 1 day)) t2             on t1.ebook_id = t2.ebook_id         set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),             t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy96.genSnapshot(Unknown Source)
	at com.zhuanye.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.zhuanye.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy128.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 22 common frames omitted
2021-04-20 18:49:05.001 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39663624524009472 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 18:49:05.004 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39663624524009472 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö3ÊØ´Áßí
2021-04-20 18:49:35.009 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39663750386683904 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 18:49:35.012 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39663750386683904 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö3ÊØ´Áßí
2021-04-20 18:50:00.012 INFO  com.zhuanye.wiki.job.EbookSnapshotJob             :32   [32m39663855256866816 [0;39m ÁîüÊàê‰ªäÊó•ÁîµÂ≠ê‰π¶Âø´ÁÖßÂºÄÂßã
2021-04-20 18:50:00.020 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m39663855256866816 [0;39m Unexpected error occurred in scheduled task
org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
### The error may exist in file [E:\IntelliJ IDEA 2019.2\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count                                             from ebook_snapshot                                             where `date` = date_sub(curdate(), interval 1 day)) t2             on t1.ebook_id = t2.ebook_id         set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),             t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy96.genSnapshot(Unknown Source)
	at com.zhuanye.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.zhuanye.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy128.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 22 common frames omitted
2021-04-20 18:50:05.008 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39663876211609600 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 18:50:05.012 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39663876211609600 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö3ÊØ´Áßí
2021-04-20 18:50:35.013 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39664002061701120 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 18:50:35.019 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39664002061701120 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö5ÊØ´Áßí
2021-04-20 18:51:00.006 INFO  com.zhuanye.wiki.job.EbookSnapshotJob             :32   [32m39664106889940992 [0;39m ÁîüÊàê‰ªäÊó•ÁîµÂ≠ê‰π¶Âø´ÁÖßÂºÄÂßã
2021-04-20 18:51:00.010 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m39664106889940992 [0;39m Unexpected error occurred in scheduled task
org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
### The error may exist in file [E:\IntelliJ IDEA 2019.2\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count                                             from ebook_snapshot                                             where `date` = date_sub(curdate(), interval 1 day)) t2             on t1.ebook_id = t2.ebook_id         set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),             t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy96.genSnapshot(Unknown Source)
	at com.zhuanye.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.zhuanye.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy128.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 22 common frames omitted
2021-04-20 18:51:05.009 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39664127874043904 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 18:51:05.012 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39664127874043904 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö3ÊØ´Áßí
2021-04-20 18:51:25.787 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-04-20 18:51:25.787 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2021-04-20 18:51:25.791 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 3 ms
2021-04-20 18:51:25.886 INFO  com.zhuanye.wiki.interceptor.LoginInterceptor     :32   [32m                  [0;39m ------------- LoginInterceptor ÂºÄÂßã -------------
2021-04-20 18:51:25.886 INFO  com.zhuanye.wiki.interceptor.LoginInterceptor     :43   [32m                  [0;39m Êé•Âè£ÁôªÂΩïÊã¶Êà™ÔºöÔºåpathÔºöhttp://localhost:8080/admin/admin-user
2021-04-20 18:51:25.886 INFO  com.zhuanye.wiki.interceptor.LoginInterceptor     :47   [32m                  [0;39m ÁôªÂΩïÊ†°È™åÂºÄÂßãÔºåtokenÔºönull
2021-04-20 18:51:25.886 INFO  com.zhuanye.wiki.interceptor.LoginInterceptor     :49   [32m                  [0;39m token‰∏∫Á©∫ÔºåËØ∑Ê±ÇË¢´Êã¶Êà™
2021-04-20 18:51:25.955 INFO  com.zhuanye.wiki.interceptor.LoginInterceptor     :32   [32m                  [0;39m ------------- LoginInterceptor ÂºÄÂßã -------------
2021-04-20 18:51:25.956 INFO  com.zhuanye.wiki.interceptor.LoginInterceptor     :43   [32m                  [0;39m Êé•Âè£ÁôªÂΩïÊã¶Êà™ÔºöÔºåpathÔºöhttp://localhost:8080/favicon.ico
2021-04-20 18:51:25.956 INFO  com.zhuanye.wiki.interceptor.LoginInterceptor     :47   [32m                  [0;39m ÁôªÂΩïÊ†°È™åÂºÄÂßãÔºåtokenÔºönull
2021-04-20 18:51:25.957 INFO  com.zhuanye.wiki.interceptor.LoginInterceptor     :49   [32m                  [0;39m token‰∏∫Á©∫ÔºåËØ∑Ê±ÇË¢´Êã¶Êà™
2021-04-20 18:51:35.015 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39664253728329728 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 18:51:35.019 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39664253728329728 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö3ÊØ´Áßí
2021-04-20 18:52:00.005 INFO  com.zhuanye.wiki.job.EbookSnapshotJob             :32   [32m39664358543986688 [0;39m ÁîüÊàê‰ªäÊó•ÁîµÂ≠ê‰π¶Âø´ÁÖßÂºÄÂßã
2021-04-20 18:52:00.012 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m39664358543986688 [0;39m Unexpected error occurred in scheduled task
org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
### The error may exist in file [E:\IntelliJ IDEA 2019.2\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count                                             from ebook_snapshot                                             where `date` = date_sub(curdate(), interval 1 day)) t2             on t1.ebook_id = t2.ebook_id         set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),             t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy96.genSnapshot(Unknown Source)
	at com.zhuanye.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.zhuanye.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy128.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 22 common frames omitted
2021-04-20 18:52:05.017 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39664379565838336 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 18:52:05.023 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39664379565838336 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö5ÊØ´Áßí
2021-04-20 18:52:35.013 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39664505378181120 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 18:52:35.023 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39664505378181120 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö9ÊØ´Áßí
2021-04-20 18:53:00.004 INFO  com.zhuanye.wiki.job.EbookSnapshotJob             :32   [32m39664610198032384 [0;39m ÁîüÊàê‰ªäÊó•ÁîµÂ≠ê‰π¶Âø´ÁÖßÂºÄÂßã
2021-04-20 18:53:00.013 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m39664610198032384 [0;39m Unexpected error occurred in scheduled task
org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
### The error may exist in file [E:\IntelliJ IDEA 2019.2\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count                                             from ebook_snapshot                                             where `date` = date_sub(curdate(), interval 1 day)) t2             on t1.ebook_id = t2.ebook_id         set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),             t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy96.genSnapshot(Unknown Source)
	at com.zhuanye.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.zhuanye.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.GeneratedMethodAccessor61.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy128.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.GeneratedMethodAccessor60.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 22 common frames omitted
2021-04-20 18:53:05.005 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39664631173746688 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 18:53:05.008 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39664631173746688 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö2ÊØ´Áßí
2021-04-20 18:53:35.013 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39664757036421120 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 18:53:35.025 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39664757036421120 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö11ÊØ´Áßí
2021-04-20 18:54:00.003 INFO  com.zhuanye.wiki.job.EbookSnapshotJob             :32   [32m39664861852078080 [0;39m ÁîüÊàê‰ªäÊó•ÁîµÂ≠ê‰π¶Âø´ÁÖßÂºÄÂßã
2021-04-20 18:54:00.008 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m39664861852078080 [0;39m Unexpected error occurred in scheduled task
org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
### The error may exist in file [E:\IntelliJ IDEA 2019.2\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count                                             from ebook_snapshot                                             where `date` = date_sub(curdate(), interval 1 day)) t2             on t1.ebook_id = t2.ebook_id         set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),             t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy96.genSnapshot(Unknown Source)
	at com.zhuanye.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.zhuanye.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.GeneratedMethodAccessor61.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy128.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.GeneratedMethodAccessor60.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 22 common frames omitted
2021-04-20 18:54:05.005 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39664882831986688 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 18:54:05.010 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39664882831986688 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö4ÊØ´Áßí
2021-04-20 18:54:35.012 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39665008690466816 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 18:54:35.015 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39665008690466816 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö2ÊØ´Áßí
2021-04-20 18:55:00.003 INFO  com.zhuanye.wiki.job.EbookSnapshotJob             :32   [32m39665113510318080 [0;39m ÁîüÊàê‰ªäÊó•ÁîµÂ≠ê‰π¶Âø´ÁÖßÂºÄÂßã
2021-04-20 18:55:00.012 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m39665113510318080 [0;39m Unexpected error occurred in scheduled task
org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
### The error may exist in file [E:\IntelliJ IDEA 2019.2\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count                                             from ebook_snapshot                                             where `date` = date_sub(curdate(), interval 1 day)) t2             on t1.ebook_id = t2.ebook_id         set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),             t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy96.genSnapshot(Unknown Source)
	at com.zhuanye.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.zhuanye.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.GeneratedMethodAccessor61.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy128.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.GeneratedMethodAccessor60.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 22 common frames omitted
2021-04-20 18:55:05.004 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39665134486032384 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 18:55:05.007 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39665134486032384 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö2ÊØ´Áßí
2021-04-20 18:55:35.007 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39665260327735296 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 18:55:35.010 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39665260327735296 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö3ÊØ´Áßí
2021-04-20 18:56:00.008 INFO  com.zhuanye.wiki.job.EbookSnapshotJob             :32   [32m39665365189529600 [0;39m ÁîüÊàê‰ªäÊó•ÁîµÂ≠ê‰π¶Âø´ÁÖßÂºÄÂßã
2021-04-20 18:56:00.014 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m39665365189529600 [0;39m Unexpected error occurred in scheduled task
org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
### The error may exist in file [E:\IntelliJ IDEA 2019.2\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count                                             from ebook_snapshot                                             where `date` = date_sub(curdate(), interval 1 day)) t2             on t1.ebook_id = t2.ebook_id         set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),             t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy96.genSnapshot(Unknown Source)
	at com.zhuanye.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.zhuanye.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.GeneratedMethodAccessor61.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy128.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.GeneratedMethodAccessor60.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 22 common frames omitted
2021-04-20 18:56:05.003 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39665386140078080 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 18:56:05.007 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39665386140078080 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö4ÊØ´Áßí
2021-04-20 18:56:35.011 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39665512002752512 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 18:56:35.016 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39665512002752512 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö4ÊØ´Áßí
2021-04-20 18:57:00.016 INFO  com.zhuanye.wiki.job.EbookSnapshotJob             :32   [32m39665616881324032 [0;39m ÁîüÊàê‰ªäÊó•ÁîµÂ≠ê‰π¶Âø´ÁÖßÂºÄÂßã
2021-04-20 18:57:00.021 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m39665616881324032 [0;39m Unexpected error occurred in scheduled task
org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
### The error may exist in file [E:\IntelliJ IDEA 2019.2\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count                                             from ebook_snapshot                                             where `date` = date_sub(curdate(), interval 1 day)) t2             on t1.ebook_id = t2.ebook_id         set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),             t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy96.genSnapshot(Unknown Source)
	at com.zhuanye.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.zhuanye.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.GeneratedMethodAccessor61.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy128.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.GeneratedMethodAccessor60.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 22 common frames omitted
2021-04-20 18:57:05.010 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39665637827678208 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 18:57:05.014 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39665637827678208 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö4ÊØ´Áßí
2021-04-20 18:57:35.012 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39665763665186816 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 18:57:35.016 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39665763665186816 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö3ÊØ´Áßí
2021-04-20 18:58:00.019 INFO  com.zhuanye.wiki.job.EbookSnapshotJob             :32   [32m39665868547952640 [0;39m ÁîüÊàê‰ªäÊó•ÁîµÂ≠ê‰π¶Âø´ÁÖßÂºÄÂßã
2021-04-20 18:58:00.025 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m39665868547952640 [0;39m Unexpected error occurred in scheduled task
org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
### The error may exist in file [E:\IntelliJ IDEA 2019.2\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count                                             from ebook_snapshot                                             where `date` = date_sub(curdate(), interval 1 day)) t2             on t1.ebook_id = t2.ebook_id         set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),             t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy96.genSnapshot(Unknown Source)
	at com.zhuanye.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.zhuanye.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.GeneratedMethodAccessor61.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy128.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.GeneratedMethodAccessor60.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 22 common frames omitted
2021-04-20 18:58:05.006 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39665889469140992 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 18:58:05.009 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39665889469140992 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö3ÊØ´Áßí
2021-04-20 18:58:35.009 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39666015310843904 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 18:58:35.013 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39666015310843904 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö3ÊØ´Áßí
2021-04-20 18:59:00.008 INFO  com.zhuanye.wiki.job.EbookSnapshotJob             :32   [32m39666120164249600 [0;39m ÁîüÊàê‰ªäÊó•ÁîµÂ≠ê‰π¶Âø´ÁÖßÂºÄÂßã
2021-04-20 18:59:00.014 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m39666120164249600 [0;39m Unexpected error occurred in scheduled task
org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
### The error may exist in file [E:\IntelliJ IDEA 2019.2\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count                                             from ebook_snapshot                                             where `date` = date_sub(curdate(), interval 1 day)) t2             on t1.ebook_id = t2.ebook_id         set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),             t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy96.genSnapshot(Unknown Source)
	at com.zhuanye.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.zhuanye.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.GeneratedMethodAccessor61.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy128.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.GeneratedMethodAccessor60.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 22 common frames omitted
2021-04-20 18:59:05.018 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39666141177712640 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 18:59:05.022 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39666141177712640 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö4ÊØ´Áßí
2021-04-20 18:59:35.013 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39666266985861120 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 18:59:35.018 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39666266985861120 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö4ÊØ´Áßí
2021-04-20 19:00:00.015 INFO  com.zhuanye.wiki.job.EbookSnapshotJob             :32   [32m39666371851849728 [0;39m ÁîüÊàê‰ªäÊó•ÁîµÂ≠ê‰π¶Âø´ÁÖßÂºÄÂßã
2021-04-20 19:00:00.023 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m39666371851849728 [0;39m Unexpected error occurred in scheduled task
org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
### The error may exist in file [E:\IntelliJ IDEA 2019.2\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count                                             from ebook_snapshot                                             where `date` = date_sub(curdate(), interval 1 day)) t2             on t1.ebook_id = t2.ebook_id         set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),             t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy96.genSnapshot(Unknown Source)
	at com.zhuanye.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.zhuanye.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.GeneratedMethodAccessor61.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy128.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.GeneratedMethodAccessor60.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 22 common frames omitted
2021-04-20 19:00:05.013 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39666392814981120 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 19:00:05.016 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39666392814981120 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö3ÊØ´Áßí
2021-04-20 19:00:35.008 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39666518623129600 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 19:00:35.015 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39666518623129600 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö5ÊØ´Áßí
2021-04-20 19:01:00.014 INFO  com.zhuanye.wiki.job.EbookSnapshotJob             :32   [32m39666623505895424 [0;39m ÁîüÊàê‰ªäÊó•ÁîµÂ≠ê‰π¶Âø´ÁÖßÂºÄÂßã
2021-04-20 19:01:00.021 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m39666623505895424 [0;39m Unexpected error occurred in scheduled task
org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
### The error may exist in file [E:\IntelliJ IDEA 2019.2\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count                                             from ebook_snapshot                                             where `date` = date_sub(curdate(), interval 1 day)) t2             on t1.ebook_id = t2.ebook_id         set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),             t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy96.genSnapshot(Unknown Source)
	at com.zhuanye.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.zhuanye.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.GeneratedMethodAccessor61.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy128.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.GeneratedMethodAccessor60.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 22 common frames omitted
2021-04-20 19:01:05.015 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39666644481609728 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 19:01:05.020 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39666644481609728 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö4ÊØ´Áßí
2021-04-20 19:01:35.023 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39666770344284160 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 19:01:35.027 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39666770344284160 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö3ÊØ´Áßí
2021-04-20 19:02:00.009 INFO  com.zhuanye.wiki.job.EbookSnapshotJob             :32   [32m39666875143163904 [0;39m ÁîüÊàê‰ªäÊó•ÁîµÂ≠ê‰π¶Âø´ÁÖßÂºÄÂßã
2021-04-20 19:02:00.016 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m39666875143163904 [0;39m Unexpected error occurred in scheduled task
org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
### The error may exist in file [E:\IntelliJ IDEA 2019.2\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count                                             from ebook_snapshot                                             where `date` = date_sub(curdate(), interval 1 day)) t2             on t1.ebook_id = t2.ebook_id         set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),             t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy96.genSnapshot(Unknown Source)
	at com.zhuanye.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.zhuanye.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.GeneratedMethodAccessor61.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy128.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.GeneratedMethodAccessor60.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 22 common frames omitted
2021-04-20 19:02:05.009 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39666896114683904 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 19:02:05.015 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39666896114683904 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö5ÊØ´Áßí
2021-04-20 19:02:35.008 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39667021939609600 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 19:02:35.011 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39667021939609600 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö3ÊØ´Áßí
2021-04-20 19:03:00.004 INFO  com.zhuanye.wiki.job.EbookSnapshotJob             :32   [32m39667126780432384 [0;39m ÁîüÊàê‰ªäÊó•ÁîµÂ≠ê‰π¶Âø´ÁÖßÂºÄÂßã
2021-04-20 19:03:00.009 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m39667126780432384 [0;39m Unexpected error occurred in scheduled task
org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
### The error may exist in file [E:\IntelliJ IDEA 2019.2\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count                                             from ebook_snapshot                                             where `date` = date_sub(curdate(), interval 1 day)) t2             on t1.ebook_id = t2.ebook_id         set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),             t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy96.genSnapshot(Unknown Source)
	at com.zhuanye.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.zhuanye.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.GeneratedMethodAccessor61.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy128.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.GeneratedMethodAccessor60.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 22 common frames omitted
2021-04-20 19:03:05.014 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39667147793895424 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 19:03:05.016 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39667147793895424 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö2ÊØ´Áßí
2021-04-20 19:03:35.006 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39667273589460992 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 19:03:35.008 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39667273589460992 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö2ÊØ´Áßí
2021-04-20 19:04:00.018 INFO  com.zhuanye.wiki.job.EbookSnapshotJob             :32   [32m39667378497392640 [0;39m ÁîüÊàê‰ªäÊó•ÁîµÂ≠ê‰π¶Âø´ÁÖßÂºÄÂßã
2021-04-20 19:04:00.021 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m39667378497392640 [0;39m Unexpected error occurred in scheduled task
org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
### The error may exist in file [E:\IntelliJ IDEA 2019.2\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count                                             from ebook_snapshot                                             where `date` = date_sub(curdate(), interval 1 day)) t2             on t1.ebook_id = t2.ebook_id         set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),             t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy96.genSnapshot(Unknown Source)
	at com.zhuanye.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.zhuanye.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at sun.reflect.GeneratedMethodAccessor66.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.GeneratedMethodAccessor61.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy128.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.GeneratedMethodAccessor60.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 21 common frames omitted
2021-04-20 19:04:05.016 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39667399460524032 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 19:04:05.022 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39667399460524032 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö6ÊØ´Áßí
2021-04-20 19:04:35.005 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39667525243506688 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 19:04:35.008 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39667525243506688 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö3ÊØ´Áßí
2021-04-20 19:05:00.014 INFO  com.zhuanye.wiki.job.EbookSnapshotJob             :32   [32m39667630138855424 [0;39m ÁîüÊàê‰ªäÊó•ÁîµÂ≠ê‰π¶Âø´ÁÖßÂºÄÂßã
2021-04-20 19:05:00.020 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m39667630138855424 [0;39m Unexpected error occurred in scheduled task
org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
### The error may exist in file [E:\IntelliJ IDEA 2019.2\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count                                             from ebook_snapshot                                             where `date` = date_sub(curdate(), interval 1 day)) t2             on t1.ebook_id = t2.ebook_id         set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),             t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy96.genSnapshot(Unknown Source)
	at com.zhuanye.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.zhuanye.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at sun.reflect.GeneratedMethodAccessor66.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.GeneratedMethodAccessor61.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy128.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.GeneratedMethodAccessor60.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 21 common frames omitted
2021-04-20 19:05:05.009 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39667651089403904 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 19:05:05.012 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39667651089403904 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö2ÊØ´Áßí
2021-04-20 19:05:35.007 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39667776910135296 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 19:05:35.010 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39667776910135296 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö3ÊØ´Áßí
2021-04-20 19:06:00.026 INFO  com.zhuanye.wiki.job.EbookSnapshotJob             :32   [32m39667881847427072 [0;39m ÁîüÊàê‰ªäÊó•ÁîµÂ≠ê‰π¶Âø´ÁÖßÂºÄÂßã
2021-04-20 19:06:00.032 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m39667881847427072 [0;39m Unexpected error occurred in scheduled task
org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
### The error may exist in file [E:\IntelliJ IDEA 2019.2\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count                                             from ebook_snapshot                                             where `date` = date_sub(curdate(), interval 1 day)) t2             on t1.ebook_id = t2.ebook_id         set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),             t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy96.genSnapshot(Unknown Source)
	at com.zhuanye.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.zhuanye.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at sun.reflect.GeneratedMethodAccessor66.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.GeneratedMethodAccessor61.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy128.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.GeneratedMethodAccessor60.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 21 common frames omitted
2021-04-20 19:06:05.008 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39667902743449600 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 19:06:05.011 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39667902743449600 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö3ÊØ´Áßí
2021-04-20 19:06:35.007 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39668028568375296 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 19:06:35.012 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39668028568375296 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö4ÊØ´Áßí
2021-04-20 19:07:00.008 INFO  com.zhuanye.wiki.job.EbookSnapshotJob             :32   [32m39668133430169600 [0;39m ÁîüÊàê‰ªäÊó•ÁîµÂ≠ê‰π¶Âø´ÁÖßÂºÄÂßã
2021-04-20 19:07:00.013 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m39668133430169600 [0;39m Unexpected error occurred in scheduled task
org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
### The error may exist in file [E:\IntelliJ IDEA 2019.2\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count                                             from ebook_snapshot                                             where `date` = date_sub(curdate(), interval 1 day)) t2             on t1.ebook_id = t2.ebook_id         set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),             t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy96.genSnapshot(Unknown Source)
	at com.zhuanye.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.zhuanye.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at sun.reflect.GeneratedMethodAccessor66.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.GeneratedMethodAccessor61.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy128.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.GeneratedMethodAccessor60.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 21 common frames omitted
2021-04-20 19:07:05.013 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39668154422661120 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 19:07:05.017 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39668154422661120 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö3ÊØ´Áßí
2021-04-20 19:07:35.014 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39668280255975424 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 19:07:35.017 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39668280255975424 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö3ÊØ´Áßí
2021-04-20 19:08:00.007 INFO  com.zhuanye.wiki.job.EbookSnapshotJob             :32   [32m39668385084215296 [0;39m ÁîüÊàê‰ªäÊó•ÁîµÂ≠ê‰π¶Âø´ÁÖßÂºÄÂßã
2021-04-20 19:08:00.011 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m39668385084215296 [0;39m Unexpected error occurred in scheduled task
org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
### The error may exist in file [E:\IntelliJ IDEA 2019.2\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count                                             from ebook_snapshot                                             where `date` = date_sub(curdate(), interval 1 day)) t2             on t1.ebook_id = t2.ebook_id         set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),             t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy96.genSnapshot(Unknown Source)
	at com.zhuanye.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.zhuanye.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at sun.reflect.GeneratedMethodAccessor66.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.GeneratedMethodAccessor61.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy128.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.GeneratedMethodAccessor60.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 21 common frames omitted
2021-04-20 19:08:05.016 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39668406093484032 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 19:08:05.018 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39668406093484032 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö2ÊØ´Áßí
2021-04-20 19:08:35.018 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39668531930992640 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 19:08:35.021 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39668531930992640 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö3ÊØ´Áßí
2021-04-20 19:09:00.016 INFO  com.zhuanye.wiki.job.EbookSnapshotJob             :32   [32m39668636780204032 [0;39m ÁîüÊàê‰ªäÊó•ÁîµÂ≠ê‰π¶Âø´ÁÖßÂºÄÂßã
2021-04-20 19:09:00.024 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m39668636780204032 [0;39m Unexpected error occurred in scheduled task
org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
### The error may exist in file [E:\IntelliJ IDEA 2019.2\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count                                             from ebook_snapshot                                             where `date` = date_sub(curdate(), interval 1 day)) t2             on t1.ebook_id = t2.ebook_id         set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),             t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy96.genSnapshot(Unknown Source)
	at com.zhuanye.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.zhuanye.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at sun.reflect.GeneratedMethodAccessor66.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.GeneratedMethodAccessor61.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy128.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.GeneratedMethodAccessor60.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 21 common frames omitted
2021-04-20 19:09:05.009 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39668657722363904 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 19:09:05.013 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39668657722363904 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö3ÊØ´Áßí
2021-04-20 19:09:35.014 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39668783572455424 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 19:09:35.016 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39668783572455424 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö2ÊØ´Áßí
2021-04-20 19:10:00.006 INFO  com.zhuanye.wiki.job.EbookSnapshotJob             :32   [32m39668888396500992 [0;39m ÁîüÊàê‰ªäÊó•ÁîµÂ≠ê‰π¶Âø´ÁÖßÂºÄÂßã
2021-04-20 19:10:00.012 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m39668888396500992 [0;39m Unexpected error occurred in scheduled task
org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
### The error may exist in file [E:\IntelliJ IDEA 2019.2\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count                                             from ebook_snapshot                                             where `date` = date_sub(curdate(), interval 1 day)) t2             on t1.ebook_id = t2.ebook_id         set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),             t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy96.genSnapshot(Unknown Source)
	at com.zhuanye.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.zhuanye.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at sun.reflect.GeneratedMethodAccessor66.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.GeneratedMethodAccessor61.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy128.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.GeneratedMethodAccessor60.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 21 common frames omitted
2021-04-20 19:10:05.013 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39668909397381120 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 19:10:05.017 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39668909397381120 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö4ÊØ´Áßí
2021-04-20 19:10:35.009 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39669035209723904 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 19:10:35.013 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39669035209723904 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö4ÊØ´Áßí
2021-04-20 19:11:00.004 INFO  com.zhuanye.wiki.job.EbookSnapshotJob             :32   [32m39669140046352384 [0;39m ÁîüÊàê‰ªäÊó•ÁîµÂ≠ê‰π¶Âø´ÁÖßÂºÄÂßã
2021-04-20 19:11:00.008 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m39669140046352384 [0;39m Unexpected error occurred in scheduled task
org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
### The error may exist in file [E:\IntelliJ IDEA 2019.2\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count                                             from ebook_snapshot                                             where `date` = date_sub(curdate(), interval 1 day)) t2             on t1.ebook_id = t2.ebook_id         set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),             t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy96.genSnapshot(Unknown Source)
	at com.zhuanye.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.zhuanye.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at sun.reflect.GeneratedMethodAccessor66.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.GeneratedMethodAccessor61.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy128.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.GeneratedMethodAccessor60.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 21 common frames omitted
2021-04-20 19:11:05.020 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39669161084981248 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 19:11:05.022 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39669161084981248 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö2ÊØ´Áßí
2021-04-20 19:11:35.015 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39669286893129728 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 19:11:35.018 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39669286893129728 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö2ÊØ´Áßí
2021-04-20 19:12:00.006 INFO  com.zhuanye.wiki.job.EbookSnapshotJob             :32   [32m39669391712980992 [0;39m ÁîüÊàê‰ªäÊó•ÁîµÂ≠ê‰π¶Âø´ÁÖßÂºÄÂßã
2021-04-20 19:12:00.012 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m39669391712980992 [0;39m Unexpected error occurred in scheduled task
org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
### The error may exist in file [E:\IntelliJ IDEA 2019.2\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count                                             from ebook_snapshot                                             where `date` = date_sub(curdate(), interval 1 day)) t2             on t1.ebook_id = t2.ebook_id         set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),             t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy96.genSnapshot(Unknown Source)
	at com.zhuanye.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.zhuanye.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at sun.reflect.GeneratedMethodAccessor66.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.GeneratedMethodAccessor61.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy128.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.GeneratedMethodAccessor60.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 21 common frames omitted
2021-04-20 19:12:05.018 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39669412734832640 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 19:12:05.020 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39669412734832640 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö2ÊØ´Áßí
2021-04-20 19:12:35.015 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39669538551369728 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 19:12:35.018 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39669538551369728 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö3ÊØ´Áßí
2021-04-20 19:13:00.003 INFO  com.zhuanye.wiki.job.EbookSnapshotJob             :32   [32m39669643358638080 [0;39m ÁîüÊàê‰ªäÊó•ÁîµÂ≠ê‰π¶Âø´ÁÖßÂºÄÂßã
2021-04-20 19:13:00.008 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m39669643358638080 [0;39m Unexpected error occurred in scheduled task
org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
### The error may exist in file [E:\IntelliJ IDEA 2019.2\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count                                             from ebook_snapshot                                             where `date` = date_sub(curdate(), interval 1 day)) t2             on t1.ebook_id = t2.ebook_id         set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),             t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy96.genSnapshot(Unknown Source)
	at com.zhuanye.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.zhuanye.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at sun.reflect.GeneratedMethodAccessor66.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.GeneratedMethodAccessor61.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy128.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.GeneratedMethodAccessor60.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 21 common frames omitted
2021-04-20 19:13:05.005 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39669664338546688 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 19:13:05.011 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39669664338546688 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö6ÊØ´Áßí
2021-04-20 19:13:35.011 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39669790192832512 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 19:13:35.014 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39669790192832512 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö3ÊØ´Áßí
2021-04-20 19:14:00.012 INFO  com.zhuanye.wiki.job.EbookSnapshotJob             :32   [32m39669895054626816 [0;39m ÁîüÊàê‰ªäÊó•ÁîµÂ≠ê‰π¶Âø´ÁÖßÂºÄÂßã
2021-04-20 19:14:00.016 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m39669895054626816 [0;39m Unexpected error occurred in scheduled task
org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
### The error may exist in file [E:\IntelliJ IDEA 2019.2\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count                                             from ebook_snapshot                                             where `date` = date_sub(curdate(), interval 1 day)) t2             on t1.ebook_id = t2.ebook_id         set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),             t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy96.genSnapshot(Unknown Source)
	at com.zhuanye.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.zhuanye.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at sun.reflect.GeneratedMethodAccessor66.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.GeneratedMethodAccessor61.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy128.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.GeneratedMethodAccessor60.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 21 common frames omitted
2021-04-20 19:14:05.002 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39669915984203776 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 19:14:05.005 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39669915984203776 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö3ÊØ´Áßí
2021-04-20 19:14:35.003 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39670041817518080 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 19:14:35.006 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39670041817518080 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö3ÊØ´Áßí
2021-04-20 19:15:00.005 INFO  com.zhuanye.wiki.job.EbookSnapshotJob             :32   [32m39670146683506688 [0;39m ÁîüÊàê‰ªäÊó•ÁîµÂ≠ê‰π¶Âø´ÁÖßÂºÄÂßã
2021-04-20 19:15:00.011 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m39670146683506688 [0;39m Unexpected error occurred in scheduled task
org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
### The error may exist in file [E:\IntelliJ IDEA 2019.2\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count                                             from ebook_snapshot                                             where `date` = date_sub(curdate(), interval 1 day)) t2             on t1.ebook_id = t2.ebook_id         set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),             t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy96.genSnapshot(Unknown Source)
	at com.zhuanye.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.zhuanye.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at sun.reflect.GeneratedMethodAccessor66.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.GeneratedMethodAccessor61.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy128.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.GeneratedMethodAccessor60.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 21 common frames omitted
2021-04-20 19:15:05.010 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39670167675998208 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 19:15:05.013 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39670167675998208 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö3ÊØ´Áßí
2021-04-20 19:15:35.029 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39670293584809984 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 19:15:35.033 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39670293584809984 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö4ÊØ´Áßí
2021-04-20 19:16:00.018 INFO  com.zhuanye.wiki.job.EbookSnapshotJob             :32   [32m39670398396272640 [0;39m ÁîüÊàê‰ªäÊó•ÁîµÂ≠ê‰π¶Âø´ÁÖßÂºÄÂßã
2021-04-20 19:16:00.024 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m39670398396272640 [0;39m Unexpected error occurred in scheduled task
org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
### The error may exist in file [E:\IntelliJ IDEA 2019.2\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count                                             from ebook_snapshot                                             where `date` = date_sub(curdate(), interval 1 day)) t2             on t1.ebook_id = t2.ebook_id         set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),             t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy96.genSnapshot(Unknown Source)
	at com.zhuanye.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.zhuanye.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at sun.reflect.GeneratedMethodAccessor66.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.GeneratedMethodAccessor61.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy128.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.GeneratedMethodAccessor60.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 21 common frames omitted
2021-04-20 19:16:05.002 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39670419300683776 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 19:16:05.008 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39670419300683776 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö5ÊØ´Áßí
2021-04-20 19:16:35.014 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39670545180135424 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 19:16:35.019 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39670545180135424 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö4ÊØ´Áßí
2021-04-20 19:17:00.011 INFO  com.zhuanye.wiki.job.EbookSnapshotJob             :32   [32m39670650025152512 [0;39m ÁîüÊàê‰ªäÊó•ÁîµÂ≠ê‰π¶Âø´ÁÖßÂºÄÂßã
2021-04-20 19:17:00.019 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m39670650025152512 [0;39m Unexpected error occurred in scheduled task
org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
### The error may exist in file [E:\IntelliJ IDEA 2019.2\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count                                             from ebook_snapshot                                             where `date` = date_sub(curdate(), interval 1 day)) t2             on t1.ebook_id = t2.ebook_id         set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),             t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy96.genSnapshot(Unknown Source)
	at com.zhuanye.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.zhuanye.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at sun.reflect.GeneratedMethodAccessor66.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.GeneratedMethodAccessor61.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy128.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.GeneratedMethodAccessor60.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 21 common frames omitted
2021-04-20 19:17:05.003 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39670670963118080 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 19:17:05.006 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39670670963118080 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö2ÊØ´Áßí
2021-04-20 19:17:35.019 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39670796859346944 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 19:17:35.021 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39670796859346944 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö2ÊØ´Áßí
2021-04-20 19:18:00.016 INFO  com.zhuanye.wiki.job.EbookSnapshotJob             :32   [32m39670901704364032 [0;39m ÁîüÊàê‰ªäÊó•ÁîµÂ≠ê‰π¶Âø´ÁÖßÂºÄÂßã
2021-04-20 19:18:00.021 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m39670901704364032 [0;39m Unexpected error occurred in scheduled task
org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
### The error may exist in file [E:\IntelliJ IDEA 2019.2\wiki\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count                                             from ebook_snapshot                                             where `date` = date_sub(curdate(), interval 1 day)) t2             on t1.ebook_id = t2.ebook_id         set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),             t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy91.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at com.sun.proxy.$Proxy96.genSnapshot(Unknown Source)
	at com.zhuanye.wiki.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.zhuanye.wiki.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at sun.reflect.GeneratedMethodAccessor66.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update ebook_snapshot t1, ebook t2
        set t1.view_count = t2.view_count,
  ' at line 9
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.GeneratedMethodAccessor61.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy128.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at sun.reflect.GeneratedMethodAccessor60.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 21 common frames omitted
2021-04-20 19:18:05.015 INFO  com.zhuanye.wiki.job.DocJob                       :31   [32m39670922671689728 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÂºÄÂßã
2021-04-20 19:18:05.028 INFO  com.zhuanye.wiki.job.DocJob                       :34   [32m39670922671689728 [0;39m Êõ¥Êñ∞ÁîµÂ≠ê‰π¶‰∏ãÁöÑÊñáÊ°£Êï∞ÊçÆÁªìÊùüÔºåËÄóÊó∂Ôºö13ÊØ´Áßí
2021-04-20 19:18:05.785 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :218  [32m                  [0;39m Shutting down ExecutorService 'taskScheduler'
2021-04-20 19:18:05.789 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :218  [32m                  [0;39m Shutting down ExecutorService 'applicationTaskExecutor'
2021-04-20 19:18:05.789 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2021-04-20 19:18:05.806 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2021-04-20 19:18:06.611 INFO  com.zhuanye.wiki.WikiApplication                  :55   [32m                  [0;39m Starting WikiApplication using Java 1.8.0_221 on DESKTOP-Q8KK21T with PID 8952 (E:\IntelliJ IDEA 2019.2\wiki\target\classes started by Administrator in E:\IntelliJ IDEA 2019.2\wiki)
2021-04-20 19:18:06.612 INFO  com.zhuanye.wiki.WikiApplication                  :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2021-04-20 19:18:08.311 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2021-04-20 19:18:08.311 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2021-04-20 19:18:08.336 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 24 ms. Found 0 Redis repository interfaces.
2021-04-20 19:18:08.739 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8080 (http)
2021-04-20 19:18:08.739 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8080"]
2021-04-20 19:18:08.746 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2021-04-20 19:18:08.747 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-04-20 19:18:08.747 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m Loaded Apache Tomcat Native library [1.2.26] using APR version [1.7.0].
2021-04-20 19:18:08.747 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2021-04-20 19:18:08.749 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2021-04-20 19:18:08.759 INFO  org.apache.catalina.core.AprLifecycleListener     :173  [32m                  [0;39m OpenSSL successfully initialized [OpenSSL 1.1.1i  8 Dec 2020]
2021-04-20 19:18:08.932 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2021-04-20 19:18:08.932 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 2313 ms
2021-04-20 19:18:09.178 WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext:596  [32m                  [0;39m Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'categoryController': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'categoryService': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'categoryMapper' defined in file [E:\IntelliJ IDEA 2019.2\wiki\target\classes\com\zhuanye\wiki\mapper\CategoryMapper.class]: Unsatisfied dependency expressed through bean property 'sqlSessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [org/mybatis/spring/boot/autoconfigure/MybatisAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is org.springframework.core.NestedIOException: Failed to parse mapping resource: 'file [E:\IntelliJ IDEA 2019.2\wiki\target\classes\mapper\ContentMapper.xml]'; nested exception is org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. The XML location is 'file [E:\IntelliJ IDEA 2019.2\wiki\target\classes\mapper\ContentMapper.xml]'. Cause: org.apache.ibatis.builder.BuilderException: Error resolving class. Cause: org.apache.ibatis.type.TypeException: Could not resolve type alias 'com.jiawa.wiki.domain.Content'.  Cause: java.lang.ClassNotFoundException: Cannot find class: com.jiawa.wiki.domain.Content
2021-04-20 19:18:09.184 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Stopping service [Tomcat]
2021-04-20 19:18:09.208 INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener:136  [32m                  [0;39m 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2021-04-20 19:18:09.342 ERROR org.springframework.boot.SpringApplication        :856  [32m                  [0;39m Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'categoryController': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'categoryService': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'categoryMapper' defined in file [E:\IntelliJ IDEA 2019.2\wiki\target\classes\com\zhuanye\wiki\mapper\CategoryMapper.class]: Unsatisfied dependency expressed through bean property 'sqlSessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [org/mybatis/spring/boot/autoconfigure/MybatisAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is org.springframework.core.NestedIOException: Failed to parse mapping resource: 'file [E:\IntelliJ IDEA 2019.2\wiki\target\classes\mapper\ContentMapper.xml]'; nested exception is org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. The XML location is 'file [E:\IntelliJ IDEA 2019.2\wiki\target\classes\mapper\ContentMapper.xml]'. Cause: org.apache.ibatis.builder.BuilderException: Error resolving class. Cause: org.apache.ibatis.type.TypeException: Could not resolve type alias 'com.jiawa.wiki.domain.Content'.  Cause: java.lang.ClassNotFoundException: Cannot find class: com.jiawa.wiki.domain.Content
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:321)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1415)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:608)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:925)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:588)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:767)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:326)
	at com.zhuanye.wiki.WikiApplication.main(WikiApplication.java:23)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'categoryService': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'categoryMapper' defined in file [E:\IntelliJ IDEA 2019.2\wiki\target\classes\com\zhuanye\wiki\mapper\CategoryMapper.class]: Unsatisfied dependency expressed through bean property 'sqlSessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [org/mybatis/spring/boot/autoconfigure/MybatisAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is org.springframework.core.NestedIOException: Failed to parse mapping resource: 'file [E:\IntelliJ IDEA 2019.2\wiki\target\classes\mapper\ContentMapper.xml]'; nested exception is org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. The XML location is 'file [E:\IntelliJ IDEA 2019.2\wiki\target\classes\mapper\ContentMapper.xml]'. Cause: org.apache.ibatis.builder.BuilderException: Error resolving class. Cause: org.apache.ibatis.type.TypeException: Could not resolve type alias 'com.jiawa.wiki.domain.Content'.  Cause: java.lang.ClassNotFoundException: Cannot find class: com.jiawa.wiki.domain.Content
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:321)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1415)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:608)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.resolveBeanByName(AbstractAutowireCapableBeanFactory.java:468)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.autowireResource(CommonAnnotationBeanPostProcessor.java:527)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.getResource(CommonAnnotationBeanPostProcessor.java:497)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor$ResourceElement.getResourceToInject(CommonAnnotationBeanPostProcessor.java:650)
	at org.springframework.beans.factory.annotation.InjectionMetadata$InjectedElement.inject(InjectionMetadata.java:229)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:318)
	... 21 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'categoryMapper' defined in file [E:\IntelliJ IDEA 2019.2\wiki\target\classes\com\zhuanye\wiki\mapper\CategoryMapper.class]: Unsatisfied dependency expressed through bean property 'sqlSessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [org/mybatis/spring/boot/autoconfigure/MybatisAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is org.springframework.core.NestedIOException: Failed to parse mapping resource: 'file [E:\IntelliJ IDEA 2019.2\wiki\target\classes\mapper\ContentMapper.xml]'; nested exception is org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. The XML location is 'file [E:\IntelliJ IDEA 2019.2\wiki\target\classes\mapper\ContentMapper.xml]'. Cause: org.apache.ibatis.builder.BuilderException: Error resolving class. Cause: org.apache.ibatis.type.TypeException: Could not resolve type alias 'com.jiawa.wiki.domain.Content'.  Cause: java.lang.ClassNotFoundException: Cannot find class: com.jiawa.wiki.domain.Content
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireByType(AbstractAutowireCapableBeanFactory.java:1518)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1401)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:608)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.resolveBeanByName(AbstractAutowireCapableBeanFactory.java:468)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.autowireResource(CommonAnnotationBeanPostProcessor.java:527)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.getResource(CommonAnnotationBeanPostProcessor.java:497)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor$ResourceElement.getResourceToInject(CommonAnnotationBeanPostProcessor.java:650)
	at org.springframework.beans.factory.annotation.InjectionMetadata$InjectedElement.inject(InjectionMetadata.java:229)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:318)
	... 35 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [org/mybatis/spring/boot/autoconfigure/MybatisAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is org.springframework.core.NestedIOException: Failed to parse mapping resource: 'file [E:\IntelliJ IDEA 2019.2\wiki\target\classes\mapper\ContentMapper.xml]'; nested exception is org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. The XML location is 'file [E:\IntelliJ IDEA 2019.2\wiki\target\classes\mapper\ContentMapper.xml]'. Cause: org.apache.ibatis.builder.BuilderException: Error resolving class. Cause: org.apache.ibatis.type.TypeException: Could not resolve type alias 'com.jiawa.wiki.domain.Content'.  Cause: java.lang.ClassNotFoundException: Cannot find class: com.jiawa.wiki.domain.Content
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:656)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:636)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1179)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:571)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1367)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1287)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireByType(AbstractAutowireCapableBeanFactory.java:1503)
	... 49 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is org.springframework.core.NestedIOException: Failed to parse mapping resource: 'file [E:\IntelliJ IDEA 2019.2\wiki\target\classes\mapper\ContentMapper.xml]'; nested exception is org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. The XML location is 'file [E:\IntelliJ IDEA 2019.2\wiki\target\classes\mapper\ContentMapper.xml]'. Cause: org.apache.ibatis.builder.BuilderException: Error resolving class. Cause: org.apache.ibatis.type.TypeException: Could not resolve type alias 'com.jiawa.wiki.domain.Content'.  Cause: java.lang.ClassNotFoundException: Cannot find class: com.jiawa.wiki.domain.Content
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:651)
	... 62 common frames omitted
Caused by: org.springframework.core.NestedIOException: Failed to parse mapping resource: 'file [E:\IntelliJ IDEA 2019.2\wiki\target\classes\mapper\ContentMapper.xml]'; nested exception is org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. The XML location is 'file [E:\IntelliJ IDEA 2019.2\wiki\target\classes\mapper\ContentMapper.xml]'. Cause: org.apache.ibatis.builder.BuilderException: Error resolving class. Cause: org.apache.ibatis.type.TypeException: Could not resolve type alias 'com.jiawa.wiki.domain.Content'.  Cause: java.lang.ClassNotFoundException: Cannot find class: com.jiawa.wiki.domain.Content
	at org.mybatis.spring.SqlSessionFactoryBean.buildSqlSessionFactory(SqlSessionFactoryBean.java:612)
	at org.mybatis.spring.SqlSessionFactoryBean.afterPropertiesSet(SqlSessionFactoryBean.java:490)
	at org.mybatis.spring.SqlSessionFactoryBean.getObject(SqlSessionFactoryBean.java:632)
	at org.mybatis.spring.boot.autoconfigure.MybatisAutoConfiguration.sqlSessionFactory(MybatisAutoConfiguration.java:180)
	at org.mybatis.spring.boot.autoconfigure.MybatisAutoConfiguration$$EnhancerBySpringCGLIB$$d99725dc.CGLIB$sqlSessionFactory$2(<generated>)
	at org.mybatis.spring.boot.autoconfigure.MybatisAutoConfiguration$$EnhancerBySpringCGLIB$$d99725dc$$FastClassBySpringCGLIB$$8e86c4e3.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)
	at org.mybatis.spring.boot.autoconfigure.MybatisAutoConfiguration$$EnhancerBySpringCGLIB$$d99725dc.sqlSessionFactory(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	... 63 common frames omitted
Caused by: org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. The XML location is 'file [E:\IntelliJ IDEA 2019.2\wiki\target\classes\mapper\ContentMapper.xml]'. Cause: org.apache.ibatis.builder.BuilderException: Error resolving class. Cause: org.apache.ibatis.type.TypeException: Could not resolve type alias 'com.jiawa.wiki.domain.Content'.  Cause: java.lang.ClassNotFoundException: Cannot find class: com.jiawa.wiki.domain.Content
	at org.apache.ibatis.builder.xml.XMLMapperBuilder.configurationElement(XMLMapperBuilder.java:123)
	at org.apache.ibatis.builder.xml.XMLMapperBuilder.parse(XMLMapperBuilder.java:95)
	at org.mybatis.spring.SqlSessionFactoryBean.buildSqlSessionFactory(SqlSessionFactoryBean.java:610)
	... 76 common frames omitted
Caused by: org.apache.ibatis.builder.BuilderException: Error resolving class. Cause: org.apache.ibatis.type.TypeException: Could not resolve type alias 'com.jiawa.wiki.domain.Content'.  Cause: java.lang.ClassNotFoundException: Cannot find class: com.jiawa.wiki.domain.Content
	at org.apache.ibatis.builder.BaseBuilder.resolveClass(BaseBuilder.java:118)
	at org.apache.ibatis.builder.xml.XMLMapperBuilder.resultMapElement(XMLMapperBuilder.java:263)
	at org.apache.ibatis.builder.xml.XMLMapperBuilder.resultMapElement(XMLMapperBuilder.java:254)
	at org.apache.ibatis.builder.xml.XMLMapperBuilder.resultMapElements(XMLMapperBuilder.java:246)
	at org.apache.ibatis.builder.xml.XMLMapperBuilder.configurationElement(XMLMapperBuilder.java:119)
	... 78 common frames omitted
Caused by: org.apache.ibatis.type.TypeException: Could not resolve type alias 'com.jiawa.wiki.domain.Content'.  Cause: java.lang.ClassNotFoundException: Cannot find class: com.jiawa.wiki.domain.Content
	at org.apache.ibatis.type.TypeAliasRegistry.resolveAlias(TypeAliasRegistry.java:120)
	at org.apache.ibatis.builder.BaseBuilder.resolveAlias(BaseBuilder.java:149)
	at org.apache.ibatis.builder.BaseBuilder.resolveClass(BaseBuilder.java:116)
	... 82 common frames omitted
Caused by: java.lang.ClassNotFoundException: Cannot find class: com.jiawa.wiki.domain.Content
	at org.apache.ibatis.io.ClassLoaderWrapper.classForName(ClassLoaderWrapper.java:200)
	at org.apache.ibatis.io.ClassLoaderWrapper.classForName(ClassLoaderWrapper.java:89)
	at org.apache.ibatis.io.Resources.classForName(Resources.java:261)
	at org.apache.ibatis.type.TypeAliasRegistry.resolveAlias(TypeAliasRegistry.java:116)
	... 84 common frames omitted
